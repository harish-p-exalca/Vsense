<form [formGroup]="pform" style="margin-top: 1rem;">
    <div fxLayout="row" fxLayoutAlign="end center" style="width: 56%;">
        <button mat-raised-button color="primary" (click)="addparam('1')" style="
  left: 72%;;background-color: #4660CE;">Add Param</button>
  <button mat-raised-button color="primary" (click)="addparam('2')" style="left: 73%;
  background-color: #4660CE;">Manual Entry</button>
    </div>
    
    <div style="width:94%;padding-left: 3%;padding-right: 3%;    padding-bottom: 10%;
  overflow: auto;">
        <mat-table [dataSource]="dataSource" class="tableborder" formArrayName="parameters">
            
            <ng-container matColumnDef="paramID" *ngIf="isNewParam">
                <mat-header-cell *matHeaderCellDef class="headercolor alignhead"> ParamID</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i" style="margin-right: 1%;">
                  <div fxLayout="row" fxLayoutAlign="start center">
                    <div class="divbox" [ngStyle]="{'background-color':i%2==0 ? '#d87e39' : '#6f52ed'}"></div>
                    
                    <div class="cellselect" >
                      <mat-select style="width:4rem;" placeholder="Select" formControlName="paramID" (selectionChange)="paramselect($event.value,i)">
                        <mat-option *ngFor="let param of deviceparams" [value]="param.paramID">{{param.paramID}}</mat-option>
                      </mat-select>
                    </div>
                    
                  </div>
                </mat-cell>
              </ng-container>

            <ng-container matColumnDef="paramID" *ngIf="!isNewParam">
                <mat-header-cell *matHeaderCellDef class="headercolor alignhead"> ParamID</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i"
                    style="margin-right: 1%;">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <div class="divbox" [ngStyle]="{'background-color':i%2==0 ? '#d87e39' : '#6f52ed'}">
                        </div>
                            <mat-form-field class="tformfield">
                                <input matInput autocomplete="off" formControlName="paramID">
                            </mat-form-field>

                    </div>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="title">
                <mat-header-cell *matHeaderCellDef class="headercolor"> Title</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="title">
                    </mat-form-field>
                </mat-cell>
            </ng-container>


            <ng-container matColumnDef="unit">
                <mat-header-cell *matHeaderCellDef class="headercolor"> Unit</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="unit">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="longText">
                <mat-header-cell *matHeaderCellDef class="headercolor"> Long Text</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i" class="boldtext">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="longText">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="min">
                <mat-header-cell *matHeaderCellDef class="headercolor"> Min</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input type="number" matInput autocomplete="off" formControlName="min">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="max">
                <mat-header-cell *matHeaderCellDef class="headercolor "> Max</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input type="number" matInput autocomplete="off" formControlName="max">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <!-- <ng-container matColumnDef="icon">
                <mat-header-cell *matHeaderCellDef class="headercolor "> Icon</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="icon">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="isPercentage">
                <mat-header-cell *matHeaderCellDef class="headercolor ">IsPercentage</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="isPercentage">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="color">
                <mat-header-cell *matHeaderCellDef class="headercolor ">Color</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i">
                    <mat-form-field class="tformfield">
                        <input matInput autocomplete="off" formControlName="color">
                    </mat-form-field>
                </mat-cell>
            </ng-container> -->

            <ng-container matColumnDef="delete">
                <mat-header-cell *matHeaderCellDef class="headercolor aligncenter" style="margin-left:-3%">
                    Delete</mat-header-cell>
                <mat-cell *matCellDef="let element;index as i" [formGroupName]="i" class="aligncenter"
                    style="margin-left:-3%">
                    <mat-icon (click)="removeparam(i)" style="color: red;cursor:pointer">delete</mat-icon>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns" class="colheader"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
    </div>
</form>